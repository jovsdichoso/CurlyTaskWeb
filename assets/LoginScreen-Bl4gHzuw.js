import{u as S,r as s,j as e,L as p,l as A}from"./index-9BDDIx7r.js";import{o as L,C as E,U,B as P,H as I,a as u,s as q,c as D,u as B,b as H,d as R,e as T}from"./firebase-CA3PzlW4.js";const V=()=>{const n=S(),[t,f]=s.useState(!0),[d,y]=s.useState(""),[c,j]=s.useState(""),[o,k]=s.useState(""),[x,w]=s.useState(""),[m,v]=s.useState(""),[g,b]=s.useState(!1),[N,z]=s.useState(!0),[h,l]=s.useState("");s.useEffect(()=>{const a=L(u,r=>{r?n("/dashboard"):z(!1)});return()=>a()},[n]);const C=async a=>{a.preventDefault(),l(""),b(!0);try{if(t)await q(u,d,c),n("/dashboard");else{const i=(await D(u,d,c)).user;await B(i,{displayName:o,photoURL:"https://ui-avatars.com/api/?background=0D9488&color=fff&name="+o}),await H(R(T,"users",i.uid),{uid:i.uid,username:o,email:d,course:x,hobbies:m,emailVerified:i.emailVerified,createdAt:new Date().toISOString(),photoURL:i.photoURL||""}),n("/dashboard")}}catch(r){r.code==="auth/invalid-credential"?l("Incorrect email or password."):r.code==="auth/email-already-in-use"?l("This email is already registered."):r.code==="auth/weak-password"?l("Password should be at least 6 characters."):l(r.message)}finally{b(!1)}};return N?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-black",children:e.jsx(p,{size:40,className:"animate-spin text-teal-600"})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-black transition-colors duration-300 py-10 px-4",children:e.jsxs("div",{className:"w-full max-w-md p-8 bg-white dark:bg-zinc-900 rounded-3xl shadow-xl border border-gray-100 dark:border-zinc-800",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("img",{src:A,alt:"CurlyTask Logo",className:"w-50 h-50 mx-auto mb-4 object-contain"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t?"Welcome Back":"Create Account"}),e.jsx("p",{className:"text-gray-500 dark:text-zinc-400 mt-2 text-sm",children:t?"Enter your credentials to access CurlyTask":"Join us and start organizing your life"})]}),h&&e.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3 rounded-xl flex items-center gap-3",children:[e.jsx(E,{size:18,className:"text-red-600 dark:text-red-400 shrink-0"}),e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:h})]}),e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[!t&&e.jsxs("div",{className:"space-y-4 animate-in slide-in-from-top-4 fade-in duration-300",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5 ml-1",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx(U,{className:"absolute left-4 top-3.5 text-gray-400",size:18}),e.jsx("input",{type:"text",value:o,onChange:a=>k(a.target.value),className:"w-full pl-11 pr-4 py-3 rounded-xl bg-gray-50 dark:bg-zinc-800 border border-gray-200 dark:border-zinc-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 outline-none transition-all font-medium",placeholder:"e.g., Papi",required:!t})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5 ml-1",children:"Course"}),e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-4 top-3.5 text-gray-400",size:18}),e.jsx("input",{type:"text",value:x,onChange:a=>w(a.target.value),className:"w-full pl-11 pr-4 py-3 rounded-xl bg-gray-50 dark:bg-zinc-800 border border-gray-200 dark:border-zinc-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 outline-none transition-all font-medium text-sm",placeholder:"BSIT",required:!t})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5 ml-1",children:"Hobbies"}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"absolute left-4 top-3.5 text-gray-400",size:18}),e.jsx("input",{type:"text",value:m,onChange:a=>v(a.target.value),className:"w-full pl-11 pr-4 py-3 rounded-xl bg-gray-50 dark:bg-zinc-800 border border-gray-200 dark:border-zinc-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 outline-none transition-all font-medium text-sm",placeholder:"Coding",required:!t})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5 ml-1",children:"Email Address"}),e.jsx("input",{type:"email",value:d,onChange:a=>y(a.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-zinc-800 border border-gray-200 dark:border-zinc-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 outline-none transition-all font-medium",placeholder:"you@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5 ml-1",children:"Password"}),e.jsx("input",{type:"password",value:c,onChange:a=>j(a.target.value),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-zinc-800 border border-gray-200 dark:border-zinc-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-teal-500 outline-none transition-all font-medium",placeholder:"••••••••",required:!0})]}),e.jsx("button",{type:"submit",disabled:g,className:"w-full bg-teal-600 hover:bg-teal-700 text-white font-bold py-3.5 rounded-xl transition-all shadow-lg shadow-teal-600/20 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed mt-4",children:g?e.jsxs(e.Fragment,{children:[e.jsx(p,{size:20,className:"animate-spin"}),e.jsx("span",{children:"Please wait..."})]}):e.jsx("span",{children:t?"Sign In":"Create Account"})})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-zinc-400",children:[t?"Don't have an account? ":"Already have an account? ",e.jsx("button",{onClick:()=>{f(!t),l("")},className:"text-teal-600 hover:text-teal-700 font-bold hover:underline transition-all",children:t?"Sign Up":"Log In"})]})})]})})};export{V as default};
